\newpage
\section{ApproxASP}

\textbf{ApproxMC Algorithm into ASP}

\begin{algorithm}[H]
\textbf{ApproxASP($P$,$\epsilon$, $\delta$)} \;
\SetAlgoLined
\KwResult{Approximate number of answer sets}
 $counter \gets 0$ ; $C \gets emptyList$\;
 $pivot \gets  2 \, \times $ \textbf{ComputeThreshold($\epsilon$)} \;
 $S \gets Xampler(P, pivot + 1)$ \Comment*[r]{Solve pivot+1 AS}  
 \eIf{ |$S$| $\leq pivot$}
 { % Open If
 \textbf{return} |$S$| \Comment*[r]{Exact count} 
 } % Close If
 { % Open Else
 $t \gets $ \textbf{ComputeIterCount($\delta$)} 
 
 \While{$counter < t$}{
 $c \gets $ \textbf{ApproxASPCore($F, pivot$)} \;
 $counter \gets counter + 1$ \;
 \If{$c \neq \bot$}{\textbf{AddToList($C,c$)}}
 } % Close While
 } % Close else
 $finalCount \gets $ \textbf{FindMedian($C$)} \;
 \textbf{return} $finalCount$
 
 \caption{ApproxMC into ASP}
\end{algorithm}


\begin{algorithm}[H]
\textbf{return} $\lceil 3 e^{1/2} (1 + \frac{1}{\epsilon})^2 \rceil$
\caption{ComputeThreshold($\epsilon$)}
\end{algorithm}

\begin{algorithm}[H]
\textbf{return} $\lceil 35 \log_2 (3/\delta) \rceil$
\caption{ComputeIterCount($\delta$)}
\end{algorithm}

\begin{algorithm}[H]
/* Assume $z_1 , ..., z_n $ are the varaibles of $F$ */ \\
$ l \gets \lfloor \log_2 (pivot) - 1 \rfloor$ \\
$ i \gets l - 1$ \\

 \While{($1 \leq |S| \leq pivot $) or ($i = n$)}{
 $ i \gets i + 1$ \\
 Choose $h$ at random from $H_{xor}(n, i - l, 3)$ \\
 Choose $\alpha$ at random from $\{0,1\}^{i-l}$ \\
 $S \gets Xampler(P \land (h(z_1, ..., z_n)=\alpha, pivot + 1)$ %\Comment*[r]{Solve $P \land XOR$}  
 
 \eIf{ |$S$| $> pivot$ or |$S$| = 0}
 {\textbf{return} $\bot$}
 {\textbf{return} |$S$| $\cdot 2^{i-l}$}
 
 }

\caption{ApproxASPCore($P, pivot$)}
\end{algorithm}
